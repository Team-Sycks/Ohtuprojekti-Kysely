<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<title>All surveys</title>
	<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
	<link type="text/css" rel="stylesheet" href="css/bootstrap.min.css" th:href="@{css/bootstrap.min.css}" />
</head>
<body>
	<div class="col-md-4" style="padding:20px 0">
		<form th:action="@{/logout}" method="post">
			<input type="submit" value="Sign Out" class="btn btn-sm btn-danger"/>
			<a href="/index" class="btn btn-primary">Takaisin</a>
		</form>
	</div>
	<br />
	<br />
	<br />
	<br />
	<div style="margin-left: 30px;">
<h1>GET calls </h1>

<h3>Get all surveys </h3>

<h4>URL </h4>

<p>http://188.166.21.32:8080/api/kysely </p>

<h4>Method: </h4>

<p>GET</p> 

<h4>URL Params </h4>

<h4>Required: </h4>

<p>None </p>

<h4>Success Response: </h4>

<p>Code: 200  
Content: [{"kyselyid":1,"kyselynimi":"Testi kysely","deployattu":"Alhaalla"},{"kyselyid":11,"kyselynimi":"Koulukysely","deployattu":"Ylhäällä"},{"kyselyid":16,"kyselynimi":"DiginKysely","deployattu":"Ylhäällä"}] 
</p>
<h3>Get one survey with answers </h3>
<h4>URL </h4>

<p>http://188.166.21.32:8080/vastaukset/kyselyid/{kyselyid}</p>

<h4>Method: </h4>

<p>GET</p> 

<h4>URL Params </h4>

<h4>Required: </h4>

<p>{id} 

To fetch a survey with the given id. </p>

<h4>Success Response: </h4>

<p>Code: 200  
Content: [{"vastausid":5,"vastausteksti":"21"},{"vastausid":6,"vastausteksti":"Pizza"},{"vastausid":8,"vastausteksti":"65"},{"vastausid":10,"vastausteksti":"12"}]</p>

<h4>Error Response</h4>
<p>Code: 404 Not found 
Content: { error : "id not found" } </p>

<h1>POST calls </h1>

<h3>Add new answer to survey</h3>

<h4>URL </h4>

<p>http://188.166.21.32:8080/vastaukset  </p>

<h4>Method: </h4>

<p>POST</p> 

<h4>URL Params </h4>

<h4>Required: </h4>

<p>To add a single answer, send the following Header: Content-Type: application/json and a Body like in the following example: 
[{"vastausteksti": "21"}]  

Notice the square brackets around the answer, which is inside curly brackets. Don't send the id, it is autogenerated. 

To add several answers, just include the other answers inside curly brackets. Example: 

[{"vastausteksti": "21"}, {"vastausteksti": "pizza"}, {"vastausteksti": "every day"}]  </p>

<h4>Success Response: </h4>

<p>Code: 200  
</p>
<h4>Error Response:</h4>
<p>Code: 404 Not found</p>
 
	</div>
	
</body>
</html>